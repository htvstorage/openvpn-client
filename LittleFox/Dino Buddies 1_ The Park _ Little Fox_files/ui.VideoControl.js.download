VideoControl=function(video_player,option){var options={stream:null,stream_track_bar:null,stream_btn:null,play_btn:null,pause_btn:null,play_duration:null,fullscreen_btn:null,landscape_fullscreen:true,seeking_enalbe:true};if(option){options=Object.assign(options,option);}
var player_options=video_player.getOptions();var video_obj=$(player_options.video_id);var subtitle_obj=$(player_options.subtitle_id);video_player.init({interval_time:100,onProgress:function(audio){var title_time=player_options.title_time;var videoDuration=$(audio).data('video_duration');var currentTime=Math.ceil((videoDuration>audio.currentTime?audio.currentTime:videoDuration)-title_time);if(video_player.play_status=='playing'||video_player.play_status=='stop'){var width=(audio.currentTime-title_time)/(audio.duration-title_time)*100;$(options.stream_track_bar).css('width',width+'%');$(options.stream_btn).css('left',width+'%');}
var time_min=parseInt(currentTime/60);var time_sec=parseInt(currentTime%60);var time=(time_min<10?'0'+time_min:time_min)+':'+(time_sec<10?'0'+time_sec:time_sec);$(options.play_duration).html(time);},onChangeStatus:function(status){switch(status){case'playing':$(options.pause_btn).show();$(options.play_btn).hide();break;case'pause':case'stop':$(options.pause_btn).hide();if(!$(".btn_replay").is(":visible"))$(options.play_btn).show();break;case'ended':$(options.pause_btn).hide();$(options.play_btn).hide();break;}}});$(options.play_btn).off('click').click(function(){video_player.play();})
$(options.pause_btn).off('click').click(function(){video_player.pause();})
$(video_obj).off('click').click(function(){if(video_player.play_status=='playing')
{video_player.pause();}else{video_player.play();}})
if(options.seeking_enalbe){var mousedown_onoff=false;$(options.stream).off('mousedown touchstart').on('mousedown touchstart',function(e){e.preventDefault();mousedown_onoff=true;$(options.stream).trigger('mousemove',e);$(options.pause_btn).trigger('click');})
$("*").off('mouseup touchend').on('mouseup touchend',function(e){if(mousedown_onoff){mousedown_onoff=false;if(video_player.play_status!='playing')video_player.play();}})
$(options.stream).off('mousemove touchmove').on('mousemove touchmove',function(e,e1){e.preventDefault();if(typeof e1!=='undefined')e=e1;if(mousedown_onoff){var current_bar_position=$(this).offset();var clientX;if(typeof e.clientX!=='undefined')clientX=e.clientX;else if(typeof e.touches!=='undefined')clientX=e.touches[0].clientX;else return;var x=clientX-current_bar_position.left;var per=x/$(this).width()*100;if(per<0)per=0;if(per>100)per=100;$(options.stream_track_bar).css("width",per+"%");$(options.stream_btn).css("left",per+"%");video_player.seeking(per,'percent');}})}
$(player_options.video_id).off('VideoSubtitlePlayer.status').on('VideoSubtitlePlayer.status',function(event,status){if(status=='playing'){play_background_hidden()}else if(status=='pause'){if(!mousedown_onoff)play_background_show();}});function play_background_hidden(){$('.videoobj-play-btn').remove();}
function play_background_show(){if($('.videoobj-play-btn').length==0){video_obj.after("<div class='videoobj-play-btn'>\
                            <svg class='video-overlay-play-button' viewBox='0 0 200 200' >\
                            <circle cx='100' cy='100' r='90' fill='none' stroke-width='15' stroke='#fff'/>\
       <line x1='75' y1='55' x2='75' y2='145' style='stroke-width:25px; stroke:white'/>\
       <line x1='125' y1='55' x2='125' y2='145' style='stroke-width:25px; stroke:white'/>\
                            </svg></div>");}
var width=video_obj.width();var height=video_obj.height();$('.videoobj-play-btn').css({'left':0,'top':0,'width':width,'height':height}).hide();$('.videoobj-play-btn').fadeIn().fadeOut();}
function is_play_background_show(){if($(".videoobj-play-btn").length>0){play_background_hidden();setTimeout(function(){play_background_show();},300);}}
$(options.fullscreen_btn).off('click').on('click',function(){if(!$(document).fullScreen()){$(document).fullScreen(true);}else{$(document).fullScreen(false);}
$(window).trigger('resize');});$(window).on("resize",function(){if($(document).fullScreen()){$(".btn_enlarge").removeClass('show');$(".btn_minify").addClass('show');}else{$(".btn_minify").removeClass('show');$(".btn_enlarge").addClass('show');}});$(document).on('keydown',function(e){e.preventDefault();if(e.which==32){if(video_player.play_status=='playing')
{video_player.pause();}else{video_player.play();}}});$(document).on('contextmenu',function(e){e.preventDefault();});}